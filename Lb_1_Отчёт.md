# Лабораторная работа №1
 *Цель работы: создание первого web приложения.*

## Задание 1

### 1. Воспользовавшись примерами из лекции (``lecture 3.pptx``) и видео вспомните то, что изучили.
### 2. Модифицируйте код в файле ``server_org.js`` таким образом, чтобы пользователи и пароли хранились в файле на диске.

Для простоты воспользуемся синхронной версией чтения файлов, пример чтения файла:

![image](https://user-images.githubusercontent.com/87654857/149487693-5690b517-73dd-4b0b-be55-6bcfc1dccaab.png)


### 3. Замените примитивную проверку имени и пароля в строке 18 на проверку при помощи данных из пункта 2. 



1) ![image](https://user-images.githubusercontent.com/96451409/147102286-89e590a6-499f-4e01-bb58-3103205e7200.png)

2) ![image](https://user-images.githubusercontent.com/96451409/147102340-746cca7a-5ff1-44ac-af7a-cfff3b3b7ed1.png)

3) Разделяем строку на имя пользователя и пароль 

![image](https://user-images.githubusercontent.com/96451409/147102382-d9e7353f-40b4-4a21-8e89-38d414c45bb8.png)

### 4. Подберите и отдавайте клиенту корректные HTTP коды в случае ошибок  

4.1 Если файл не найден или произошла ошибка при обработке нужно возвращать код из семейства ``500``.  

*Разберем, что значит ошибка 500 на простом примере из жизни. Вы решили побаловать себя обновкой и отправились за ней в торговый центр. Вы подходите к ТЦ и видите, что он закрыт, хотите зайти с заднего входа и видите табличку «Закрыто. Ведутся санитарные работы». Значит, сегодня вы сюда не попадете, нужно искать другой магазин. Подобный механизм действия и с сайтами, периодически в их работе возникают ошибки, и ресурс закрывается до устранения проблем.*

*Код ответа сервера 500 может быть вызван: повреждением .htaccess файлов; задержкой скрипта; неправильным обновлением системы WordPress; некорректно установленными плагинами; устаревшей версией PHP.*
***
![image](https://user-images.githubusercontent.com/96451409/147102758-02817211-a49d-4c1d-852e-a8e1a2fbf770.png)


4.2 Если переданы пустой пользователь или пароль, то следует возвращать код ``400``.  
***
![image](https://user-images.githubusercontent.com/96451409/147102877-fdb7f2e3-f318-4eee-925e-daf0568a1259.png)

*Код 400 напрямую связан с клиентом (браузером, к примеру) и намекает на то, что отправленный запрос со стороны пользователя приводит к сбою еще до того, как его обработает сервер (вернее, так считает сам сервер).*

*Есть 4 повода для возникновения ошибки сервера 400 Bad Request при попытке зайти на сайт:*

*1. Некорректно настроенные HTTP-заголовки в запросе со стороны клиента. Некоторые приложения и сайты мониторят заголовки на предмет наличия в них чего-нибудь подозрительного. Если ваш запрос не соответствует ожиданиям сервера, то высока вероятность появления ошибки 400 (но это не всегда вина пользователя).*

*2. Такой же сбой появляется, если клиент пытается загрузить на сервер файл слишком большого размера. Это происходит, потому что на большинстве сайтов есть ограничения по размеру загружаемых данных. Причем ограничение может быть как в 2 гигабайта, так и в 600 килобайт.*

*3. Еще ошибка 400 появляется, когда пользователь пытается получить доступ к несуществующей странице. То есть в браузер банально ввели ссылку с опечаткой, некорректным доменом или поддоменом.*

*4. Устаревшие или измененные куки-файлы. Сервер может воспринять подмену куки-файлов как попытку атаковать или воспользоваться дырой в безопасности. Поэтому такие запросы сходу блокируются.*


4.3 Если переданы пользователь не найден или пароль не корректный, то следует возвращать код ``403``.  
***
![image](https://user-images.githubusercontent.com/96451409/147102914-6ad52db3-778f-47ea-b8b4-2445656f581c.png)

*Ошибка сервера 403 Forbidden означает ограничение или отсутствие доступа к материалу на странице, которую вы пытаетесь загрузить. Причин ее появления может быть несколько, и вот некоторые из них:*

*1. Формат индексного файла неверен.*

*2. Некорректно выставленные права на папку/файл.*

*3. Файлы были загружены в неправильную папку.*

4.4 Если всё хорошо, то код ``200``.
***

![image](https://user-images.githubusercontent.com/96451409/147102986-5abbfc5a-3dad-4bde-b6ad-8714e35d5dc9.png)
![image](https://user-images.githubusercontent.com/96451409/147102931-cd574443-143e-46eb-b3d5-7825ade121ee.png)

*Код ответа 200 — один из типов кодов HTTP, информирует пользователя об успешной обработке запроса. Исходя из статуса, сервер может предоставлять тело и заголовок сообщения.*

*Приведем пример. Вы отправили посылку в другой город. На почте вам выдали трек-номер для отслеживания. По нему вы смотрите, что с вашим отправлением — вот оно покинуло сортировочный центр вашего города, вот прибыло в другой. Вот его вручили адресату. Каждый раз система выдает вам статус в ответ на запрос.*

### 5. Запустите доработанный сервер ``node .\server_org.js`` и, пройдя по ссылке, ``http://127.0.0.1:8080/login.html`` убедитесь, что всё работает корректно: имена и пользователи хранятся во внешнем файле.
***

![147103140-0d378976-2dc2-4ec6-b944-d99da7ea1520](https://user-images.githubusercontent.com/87654857/149475412-89ba6db0-8a97-4e40-874a-103bdfbdc346.png)


Далее получаем успешный результат:

![image](https://user-images.githubusercontent.com/96451409/147103216-2e929185-6267-4b84-829e-d0e6d0696019.png)


Полезные ссылки:

https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide

https://nodejs.org/ru/docs/guides/debugging-getting-started/
